(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-add-news-add-news"],{"37ab":function(e,t,i){"use strict";i.r(t);var n=i("5f0b"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);t["default"]=a.a},"41e7":function(e,t,i){"use strict";var n=i("bfb2"),a=i.n(n);a.a},"5f0b":function(e,t,i){"use strict";var n=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var a=n(i("3b8d")),s=n(i("6e99")),u=n(i("d551")),o=["所有人可见","仅自己可见"],c=[["camera"],["album"],["camera","album"]],r=[["compressed"],["original"],["compressed","original"]],l={comments:{uniNavBar:s.default,uniPopup:u.default},data:function(){return{yinsi:"所与人可见",text:"",imageList:[],sourceTypeIndex:2,sourceType:["拍照","相册","拍照或相册"],sizeTypeIndex:2,sizeType:["压缩","原图","压缩或原图"],countIndex:8,count:[1,2,3,4,5,6,7,8,9],showpopup:!0,isget:!1}},onBackPress:function(){if(this.text||!(this.imageList.length<1))return this.isget?void 0:(this.baocun(),!0)},methods:{baocun:function(){var e=this;uni.showModal({content:"是否要保存为草稿?",cancelText:"不保存",confirmText:"保存",success:function(t){t.confirm?console.log("保存"):console.log("不保存"),e.isget=!0,uni.navigateBack({delta:1})}})},back:function(){uni.navigateBack({delta:1})},submit:function(){uni.showToast({title:"发布"})},changelook:function(){var e=this;uni.showActionSheet({itemList:["所有人可见","仅自己可见"],success:function(t){e.yinsi=o[t.tapIndex]}})},chooseImage:function(){var e=(0,a.default)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(9!==this.imageList.length){e.next=2;break}return e.abrupt("return");case 2:uni.chooseImage({sourceType:c[this.sourceTypeIndex],sizeType:r[this.sizeTypeIndex],count:this.imageList.length+this.count[this.countIndex]>9?9-this.imageList.length:this.count[this.countIndex],success:function(e){t.imageList=t.imageList.concat(e.tempFilePaths)},fail:function(e){}});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),previewImage:function(e){var t=e.target.dataset.src;uni.previewImage({current:t,urls:this.imageList})},checkPermission:function(){var e=(0,a.default)(regeneratorRuntime.mark(function e(t){var i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=t?t-1:this.sourceTypeIndex,!permision.isIOS){e.next=7;break}return e.next=4,permision.requestIOS(c[i][0]);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,permision.requestAndroid(0===i?"android.permission.CAMERA":"android.permission.READ_EXTERNAL_STORAGE");case 9:e.t0=e.sent;case 10:return n=e.t0,null===n||1===n?n=1:uni.showModal({content:"没有开启权限",confirmText:"设置",success:function(e){e.confirm&&permision.gotoAppSetting()}}),e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),delect:function(e){var t=this;uni.showModal({title:"提示",content:"是否删除该图片",success:function(i){i.confirm&&t.imageList.splice(e,1)}})}}};t.default=l},"7ac4":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".uni-textarea[data-v-27930c40]{\r\n\t/* border: 1upx solid #EEEEEE; */}.cell-pd[data-v-27930c40]{padding:%?22?% %?30?%}.uni-uploader__file[data-v-27930c40]{position:relative}.list-pd[data-v-27930c40]{margin-top:%?50?%}.icon-shanchu[data-v-27930c40]{position:absolute;right:0;top:0;background-color:#333;color:#fff;z-index:99;padding:%?2?% %?10?%;border-radius:%?10?%}.u-f-ajc[data-v-27930c40]{margin:0 auto}",""])},"80dc":function(e,t,i){"use strict";i.r(t);var n=i("c7ae"),a=i("37ab");for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);i("41e7");var u,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"27930c40",null,!1,n["a"],u);t["default"]=c.exports},bfb2:function(e,t,i){var n=i("7ac4");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("18332633",n,!0,{sourceMap:!1,shadowMode:!1})},c7ae:function(e,t,i){"use strict";var n={"uni-nav-bar":i("6e99").default,"uni-popup":i("d551").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("uni-nav-bar",{attrs:{statusBar:!0,rightText:"发布","left-icon":"arrowleft"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)},clickRight:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"u-f-ajc",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changelook.apply(void 0,arguments)}}},[e._v(e._s(e.yinsi)),i("v-uni-view",{staticClass:"icon iconfont icon-tubiao-"})],1)],1),i("v-uni-view",{staticClass:"uni-textarea"},[i("v-uni-textarea",{attrs:{value:"",placeholder:"发布一条动态吧"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1),i("v-uni-view",{staticClass:"uni-list list-pd"},[i("v-uni-view",{staticClass:"uni-list-cell cell-pd"},[i("v-uni-view",{staticClass:"uni-uploader"},[i("v-uni-view",{staticClass:"uni-uploader-head"},[i("v-uni-view",{staticClass:"uni-uploader-title"},[e._v("点击可预览选好的图片")]),i("v-uni-view",{staticClass:"uni-uploader-info"},[e._v(e._s(e.imageList.length)+"/9")])],1),i("v-uni-view",{staticClass:"uni-uploader-body"},[i("v-uni-view",{staticClass:"uni-uploader__files"},[e._l(e.imageList,function(t,n){return[i("v-uni-view",{key:n+"_0",staticClass:"uni-uploader__file"},[i("v-uni-view",{staticClass:"icon iconfont icon-shanchu",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.delect(n)}}}),i("v-uni-image",{staticClass:"uni-uploader__img",attrs:{src:t,"data-src":t},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImage.apply(void 0,arguments)}}})],1)]}),9!=e.imageList.length?i("v-uni-view",{staticClass:"uni-uploader__input-box"},[i("v-uni-view",{staticClass:"uni-uploader__input",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseImage.apply(void 0,arguments)}}})],1):e._e()],2)],1)],1)],1)],1),i("uni-popup",{attrs:{show:e.showpopup,position:"middle",mode:"fixed"},on:{hidePopup:function(t){arguments[0]=t=e.$handleEvent(t),e.hidePopup.apply(void 0,arguments)}}},[e._v("1111")])],1)},s=[];i.d(t,"b",function(){return a}),i.d(t,"c",function(){return s}),i.d(t,"a",function(){return n})}}]);